<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.donkunny.mapper.noticeBoardMapper">
	
	<!-- 글 작성하기 -->
	<insert id="write">
		insert into tbl_notice (n_title, n_content)
		values (#{n_title}, #{n_content})
	</insert>

	<!-- 글 수정하기(본인만 할 수 있음) -->
	<update id="modify">
		update tbl_notice
		set n_title = #{n_title}, n_content=#{n_content}
		where nno = #{nno} and n_id = #{n_id}
	</update>
	
	<!-- 하나의 글 읽기 -->
	<select id="read" resultType="NoticeBoardVO">
		select * from tbl_notice
		where nno = #{nno}
	</select>
	
	<!-- 글 삭제하기(본인만 할 수 있음) -->
	<delete id="delete">
		delete from tbl_notice where nno = #{nno} and n_id = #{n_id}
	</delete>
	
	<!-- 모든 게시글 한번에 보기(나중에 삭제) -->
	<select id="listAll" resultType="NoticeBoardVO">
		select * from tbl_notice
		where nno > 0
		order by nno desc, n_regdate desc
	</select>
	
	<!-- 리스트 화면 보이기 -->
	<select id="listPage" resultType="NoticeBoardVO">
		select * from tbl_notice
		where nno > 0
		order by nno desc, n_regdate desc
		limit #{pageStart}, #{perPageNum}
	</select>
	
	<!-- 게시글 개수 확인 -->
	<select id="countPaging" resultType="int">
		select count(nno)
		from tbl_notice
		where nno>0
	</select>
</mapper>